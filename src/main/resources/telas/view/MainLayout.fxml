<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>

<AnchorPane xmlns="http://javafx.com/javafx"
    xmlns:fx="http://javafx.com/fxml"
    fx:controller="tela_main_controller.MainLayoutController"
    stylesheets="@/Css/main.css">

    <children>  
        <HBox spacing="0"
            AnchorPane.topAnchor="0.0"
            AnchorPane.bottomAnchor="0.0"
            AnchorPane.leftAnchor="0.0"
            AnchorPane.rightAnchor="0.0">

            <!-- MENU LATERAL -->
            <VBox styleClass="area-padrao"
                prefWidth="162"
                VBox.vgrow="ALWAYS"
                spacing="12">

                <!-- Espaço para logo no topo -->
                <HBox alignment="TOP_CENTER">
                    <padding>
                        <Insets top="5" right="0" bottom="5" left="0" />
                    </padding>

                    <children>
                        <ImageView fitHeight="180" fitWidth="180" preserveRatio="true"
                            smooth="false">
                            <image>
                                <Image url="@/imagens/Hotel_New_Royale.png" />
                            </image>
                        </ImageView>
                    </children>
                </HBox>

                <!-- Botões do menu com alinhamento corrigido -->
                <Button text="Início" styleClass="button" onAction="#abrirBoasVindas"
                    maxWidth="Infinity" alignment="CENTER_LEFT" contentDisplay="LEFT">
                    <graphic>
                        <FontIcon iconLiteral="fas-home" styleClass="font-Icon" />
                    </graphic>
                    <padding>
                        <Insets left="10.0" right="10.0"/>
                    </padding>
                </Button>

                <Button text="Dashboard" styleClass="button" onAction="#abrirDashboard"
                    maxWidth="Infinity" alignment="CENTER_LEFT" contentDisplay="LEFT">
                    <graphic>
                        <FontIcon iconLiteral="fas-chart-bar" styleClass="font-Icon" />
                    </graphic>
                    <padding>
                        <Insets left="10.0" right="10.0"/>
                    </padding>
                </Button>

                <Button text="Quartos" styleClass="button" onAction="#abrirListaColmeia"
                    maxWidth="Infinity" alignment="CENTER_LEFT" contentDisplay="LEFT">
                    <graphic>
                        <FontIcon iconLiteral="fas-bed" styleClass="font-Icon" />
                    </graphic>
                    <padding>
                        <Insets left="10.0" right="10.0"/>
                    </padding>
                </Button>

                <Button text="Clientes" styleClass="button" onAction="#abrirListaCliente"
                    maxWidth="Infinity" alignment="CENTER_LEFT" contentDisplay="LEFT">
                    <graphic>
                        <FontIcon iconLiteral="fas-users" styleClass="font-Icon" />
                    </graphic>
                    <padding>
                        <Insets left="10.0" right="10.0"/>
                    </padding>
                </Button>

                <Button text="Check-in/out" styleClass="button" onAction="#abrirOcupacao"
                    maxWidth="Infinity" alignment="CENTER_LEFT" contentDisplay="LEFT">
                    <graphic>
                        <FontIcon iconLiteral="fas-sign-in-alt" styleClass="font-Icon" />
                    </graphic>
                    <padding>
                        <Insets left="10.0" right="10.0"/>
                    </padding>
                </Button>

                <!-- Espaço flexível para empurrar o botão Sair para a base -->
                <Region VBox.vgrow="ALWAYS" />

                <!-- Botão "Sair" com padding para ficar um pouco acima do rodapé -->
                <VBox>
                    <padding>
                        <Insets top="0" right="0" bottom="20" left="0" />
                    </padding>
                    <children>
                        <Button text="Sair" styleClass="button" onAction="#sair" 
                            maxWidth="Infinity" alignment="CENTER_LEFT" contentDisplay="LEFT">
                            <graphic>
                                <FontIcon iconLiteral="fas-sign-out-alt" styleClass="font-Icon" />
                            </graphic>
                            <padding>
                                <Insets left="10.0" right="10.0"/>
                            </padding>
                        </Button>
                    </children>
                </VBox>

            </VBox>

            <!-- ÁREA DE CONTEÚDO + CABEÇALHO (EXPANDINDO) -->
            <VBox spacing="0"
                VBox.vgrow="ALWAYS"
                HBox.hgrow="ALWAYS"
                maxWidth="Infinity">

                <!-- Cabeçalho que deve preencher toda largura -->
                <HBox styleClass="cabecalho"
                    spacing="10"
                    alignment="CENTER_LEFT"
                    prefHeight="60"
                    HBox.hgrow="ALWAYS"
                    maxWidth="Infinity">

                    <!-- Título fixo à esquerda -->
                    <Label text="Sistema de Hotel" styleClass="titulo-principal" />

                    <!-- Espaço flexível entre título e relógio -->
                    <Region HBox.hgrow="ALWAYS" />

                    <!-- Relógio e estação centralizados -->
                    <VBox alignment="CENTER" spacing="2">
                        <Label fx:id="labelRelogio" styleClass="relogio-label"
                            text="00 March, 00:00" />
                        <Label fx:id="labelEstacao" styleClass="estacao-label" text="Estação do ano" />
                    </VBox>

                    <!-- Espaço flexível para empurrar para direita -->
                    <Region HBox.hgrow="ALWAYS" />

                    <!-- Informações do usuário -->
                    <HBox spacing="10" alignment="CENTER_RIGHT">
                        <Label fx:id="labelNomeUsuario" text="Helyaby" styleClass="nome-usuario" />
                        <ImageView fitWidth="45" fitHeight="45" pickOnBounds="true"
                            preserveRatio="true" styleClass="image-view">
                            <image>
                                <Image url="@/imagens/Hotel_New_Royale.png" />
                            </image>
                        </ImageView>
                        <Button styleClass="botao-pesquisa">
                            <graphic>
                                <FontIcon iconLiteral="fas-search" styleClass="font-Icon" />
                            </graphic>
                        </Button>
                    </HBox>
                </HBox>

                <!-- Painel dinâmico -->
                <StackPane fx:id="painelConteudo"
                    VBox.vgrow="ALWAYS" />
            </VBox>

        </HBox>
    </children>

</AnchorPane>